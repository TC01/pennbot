# Description:
#   Example scripts for you to examine and try out.
#
# Notes:
#   They are commented out by default, because most of them are pretty silly and
#   wouldn't be useful and amusing enough for day to day huboting.
#   Uncomment the ones you want to try and experiment with.
#
#Commands:
#   hubot aurelius - Receive wisdom from ancient Rome's preeminent Stoic.

quotes = {
  "Epictetus": ["No thing great is created suddenly, any more than a bunch of grapes or a fig. If you tell me that you desire a fig, I answer you that there must be time. Let it first blossom, then bear fruit, then ripen.",
                 "Wealth consists not in having great possessions, but in having few wants.",
                  "Don't explain your philosophy. Embody it.",
                  "There is only one way to happiness and that is to cease worrying about things which are beyond the power or our will.",
                  "Man is not worried by real problems so much as by his imagined anxieties about real problems",
                  "First say to yourself what you would be; and then do what you have to do.",
                  "If you want to improve, be content to be thought foolish and stupid.",
                  "The key is to keep company only with people who uplift you, whose presence calls forth your best.",
                  "Other people's views and troubles can be contagious. Don't sabotage yourself by unwittingly adopting negative, unproductive attitudes through your associations with others.",
                  "It is impossible for a man to learn what he thinks he already knows.",
                  "You are a little soul carrying around a corpse.",
                  "He is a wise man who does not grieve for the things which he has not, but rejoices for those which he has.",
                  "Caretake this moment. Immerse yourself in its particulars. Respond to this person, this challenge, this deed. Quit evasions. Stop giving yourself needless trouble. It is time to really live; to fully inhabit the situation you happen to be in now.",
                   "Remember, it is not enough to be hit or insulted to be harmed, you must believe that you are being harmed. If someone succeeds in provoking you, realize that your mind is complicit in the provocation. Which is why it is essential that we not respond impulsively to impressions; take a moment before reacting, and you will find it easier to maintain control.",
                  "Most of what passes for legitimate entertainment is inferior or foolish and only caters to or exploits people's weaknesses. Avoid being one of the mob who indulges in such pastimes. Your life is too short and you have important things to do. Be discriminating about what images and ideas you permit into your mind. If you yourself don't choose what thoughts and images you expose yourself to, someone else will, and their motives may not be the highest. It is the easiest thing in the world to slide imperceptibly into vulgarity. But there's no need for that to happen if you determine not to waste your time and attention on mindless pap.",
                  "Preach not to others what they should eat, but eat as becomes you and be silent.",
                   "If you would be a reader, read; if a writer, write.",
                   "Now is the time to get serious about living your ideals. How long can you afford to put off who you really want to be? Your nobler self cannot wait any longer. Put your principles into practice – now. Stop the excuses and the procrastination. This is your life! You aren’t a child anymore. The sooner you set yourself to your spiritual program, the happier you will be. The longer you wait, the more you’ll be vulnerable to mediocrity and feel filled with shame and regret, because you know you are capable of better. From this instant on, vow to stop disappointing yourself. Separate yourself from the mob. Decide to be extraordinary and do what you need to do – now.",
                   "Remember that you ought to behave in life as you would at a banquet. As something is being passed around it comes to you; stretch out your hand, take a portion of it politely. It passes on; do not detain it. Or it has not come to you yet; do not project your desire to meet it, but wait until it comes in front of you. So act toward children, so toward a wife, so toward office, so toward wealth.",
                   "Difficulty shows what men are. Therefore when a difficulty falls upon you, remember that God, like a trainer of wrestlers, has matched you with a rough young man. Why? So that you may become an Olympic conqueror; but it is not accomplished without sweat.",
                   "Some things are in our control and others not. Things in our control are opinion, pursuit, desire, aversion, and, in a word, whatever are our own actions. Things not in our control are body, property, reputation, command, and, in one word, whatever are not our actions. The things in our control are by nature free, unrestrained, unhindered; but those not in our control are weak, slavish, restrained, belonging to others. Remember, then, that if you suppose that things which are slavish by nature are also free, and that what belongs to others is your own, then you will be hindered. You will lament, you will be disturbed, and you will find fault both with gods and men. But if you suppose that only to be your own which is your own, and what belongs to others such as it really is, then no one will ever compel you or restrain you. Further, you will find fault with no one or accuse no one. You will do nothing against your will.",
                   "If you would cure anger, do not feed it. Say to yourself: 'I used to be angry every day; then every other day; now only every third or fourth day.' When you reach thirty days offer a sacrifice of thanksgiving to the gods.",
                    "These reasonings are unconnected: 'I am richer than you, therefore I am better'; 'I am more eloquent than you, therefore I am better.' The connection is rather this: 'I am richer than you, therefore my property is greater than yours;' 'I am more eloquent than you, therefore my style is better than yours' But you, after all, are neither property nor style.",
                     "So you wish to conquer in the Olympic Games, my friend? And I, too... But first mark the conditions and the consequences. You will have to put yourself under discipline; to eat by rule, to avoid cakes and sweetmeats; to take exercise at the appointed hour whether you like it or not, in cold and heat; to abstain from cold drinks and wine at your will. Then, in the conflict itself you are likely enough to dislocate your wrist or twist your ankle, to swallow a great deal of dust, to be severely thrashed, and after all of these things, to be defeated.",
                     "Never depend on the admiration of others. There is no strength in it. Personal merit cannot be derived from an external source. It is not to be found in your personal associations, nor can it be found in the regard of other people. It is a fact of life that other people, even people who love you, will not necessarily agree with your ideas, understand you, or share your enthusiasms. Grow up! Who cares what other people think about you!"],
  "Seneca": ["There is no easy way from the earth to the stars",
             "As is a tale, so is life: not how long it is, but how good it is, is what matters.",
             "The time will come when diligent research over long periods will bring to light things which now lie hidden. A single lifetime, even though entirely devoted to the sky, would not be enough for the investigation of so vast a subject... And so this knowledge will be unfolded only through long successive ages. There will come a time when our descendants will be amazed that we did not know things that are so plain to them... Many discoveries are reserved for ages still to come, when memory of us will have been effaced.",
              "We suffer more often in imagination than in reality",
              "You act like mortals in all that you fear, and like immortals in all that you desire",
              "Life is long, if you know how to use it.",
              "If a man knows not to which port he sails, no wind is favorable.",
              "It is not that we have so little time but that we lose so much. The life we receive is not short but we make it so; we are not ill provided but use what we have wastefully",
              "Begin at once to live, and count each separate day as a separate life.",
              "No man was ever wise by chance.",
              "They lose the day in expectation of the night, and the night in fear of the dawn.",
              "I shall never be ashamed of citing a bad author if the line is good.",
              "Associate with people who are likely to improve you.",
              "He suffers more than necessary, who suffers before it is necessary.",
              "Until we have begun to go without them, we fail to realize how unnecessary many things are. We've been using them not because we needed them but because we had them.",
              "Enjoy present pleasures in such a way as not to injure future ones.",
              "Putting things off is the biggest waste of life: it snatches away each day as it comes, and denies us the present by promising the future. The greatest obstacle to living is expectancy, which hangs upon tomorrow, and loses today. You are arranging what lies in Fortune's control, and abandoning what lies in yours. What are you looking at? To what goal are you straining? The whole future lies in uncertainty: live immediately.",
              "As long as you live, keep learning how to live.",
              "We should every night call ourselves to an account;  What infirmity have I mastered today? What passions opposed? What temptation resisted? What virtue acquired? Our vices will abort of themselves if they be brought every day to the shrift.",
              "People are frugal in guarding their personal property; but as soon as it comes to squandering time they are most wasteful of the one thing in which it is right to be stingy.",
              "While we wait for life, life passes.",
              "You live as if you were destined to live forever, no thought of your frailty ever enters your head, of how much time has already gone by you take no heed. You squander time as if you drew from a full and abundant supply, though all the while that day which you bestow on some person or thing is perhaps your last.",
              "But life is very short and anxious for those who forget the past, neglect the present, and fear the future.",
              "The part of life we really live is small. For all the rest of existence is not life, but merely time.",
               "Nothing is burdensome if taken lightly, and nothing need arouse one's irritation so long as one doesn't make it bigger than it is by getting irritated.",
               "What man can you show me who places any value on his time, who reckons the worth of each day, who understands that he is dying daily? For we are mistaken when we look forward to death; the major portion of death has already passed, Whatever years be behind us are in death's hands.",
               "The final hour when we cease to exist does not itself bring death; it merely of itself completes the death-process. We reach death at that moment, but we have been a long time on the way."],
  "Marcus Aurelius": ["People out for posthumous fame forget that the Generations To Come will be the same annoying people they know now. And just as mortal. What does it matter to you if they say x about you, or think y? Give yourself a gift: the present moment.",
                      "An arrow has one motion and the mind another. Even when pausing, even when weighing conclusions, the mind is moving forward, toward its goal.",
                      "Today I escaped from anxiety. Or no, I discarded it, because it was within me, in my own perceptions--not outside.",
                      "You can discard most of the junk that clutters your mind -things that exist only there-and clear out space for yourself: 1. by comprehending the scale of the world 2. by contemplating infinite time 3. by thinking of the speed with which things change- each part of every thing; the narrow space between our birth and death; the infinite time before; the equally unbounded time that follows.",
                      "During my illness, my conversations were not about my physical state; I did not waste my visitors' time with things of that sort, but went on discussing philosophy, and concentrated on one point in particular: how the mind can participate in the sensations of the body and yet maintain its serenity, and focus on its own well-being. Nor did I let my doctors strut about like grandees. I went on living my life the way it should be lived.",
                      "If they’ve made a mistake, correct them gently and show them where they went wrong. If you can’t do that, then the blame lies with you. Or no one.",
                      "Whatever happens to you has been waiting to happen since the beginning of time. The twining strands of fate wove both of them together: your own existence and the things that happen to you.",
                      "Epithets for yourself: Upright. Modest. Straightforward. Sane. Cooperative. Disinterested. Try not to exchange them for others. And if you should forfeit them, set about getting them back.",
                      "Why all this guesswork? You can see what needs to be done. If you can see the road, follow it. Cheerfully, without turning back. If not, hold up and get the best advice you can. If anything gets in the way, forge on ahead, making good use of what you have on hand, sticking to what seems right. (The best goal to achieve, and the one we fall short of when we fail.)",
                      "When you wake up, ask yourself: Does it make any difference to you if other people blame you for doing what's right? It makes no difference. ",
                      "Only a short time left. Live as if you were alone-out in the wilderness. No difference between here and there: the city that you live in is the world.",
                      "Stop talking about what the good man is like, and just be one.",
                      "Stop whatever you’re doing for a moment and ask yourself: Am I afraid of death because I wouldn’t be able to do *this* anymore?",
                      "When faced with people's bad behavior, turn around and ask when you have acted like that. When you saw money as a good, or pleasure, or social position. Your anger will subside as soon as you recognize that they acted under compulsion (what else could they do?). Or remove the compulsion, if you can.",
                      "Given the material we're made of, what’s the sanest thing that we can do or say? Whatever it may be, you can do or say it. Don't pretend that anything’s stopping you.",
                      "Learn to ask of all actions, “Why are they doing that?” Starting with your own.",
                      "'And your profession?' 'Goodness.' (And how is that to be achieved, except by thought--about the world, about the nature of people?)",
                      "Someone despises me. That’s their problem. Mine: not to do or say anything despicable. Someone hates me. Their problem. Mine: to be patient and cheerful with everyone, including them. Ready to show them their mistake. Not spitefully, or to show off my own self-control, but in an honest, upright way. Like Phocion (if he wasn't just pretending). That’s what we should be like inside, and never let the gods catch us feeling anger or resentment.",
                      "Four habits of thought to watch for, and erase from your mind when you catch them. Tell yourself: This thought is unnecessary. This one is destructive to the people around you. This wouldn’t be what you really think (to say what you don’t think-the definition of absurdity). And the fourth reason for self-reproach: that the more divine part of you has been beaten and subdued by the degraded mortal part—the body and its stupid self-indulgence.",
                      "'If you don't have a consistent goal in life, you can't live it in a consistent way.' Unhelpful, unless you specify a goal. There is no common benchmark for all the things that people think are good-except for a few, the ones that affect us all. So the goal should be a common one-a civic one. If you direct all your energies toward that, your actions will be consistent. And so will you.",
                      "Socrates used to call popular beliefs 'the monsters under the bed'-only useful for frightening children with.",
                      "The Pythagoreans tell us to look at the stars at daybreak. To remind ourselves how they complete the tasks assigned them-always the same tasks, the same way. And their order, purity, nakedness. Stars wear no concealment.",
                      "This advice from Epicurean writings: to think continually of one of the men of old who lived a virtuous life.",
                      "At festivals the Spartans put their guests' seats in the shade, but sat themselves down anywhere.",
                      "Grapes. Unripe . . . ripened . . . then raisins. Constant transitions. Not the 'not' but the 'not yet.'",
                      "We need to master the art of acquiescence. We need to pay attention to our impulses, making sure they don’t go unmoderated, that they benefit others, that they're worthy of us. We need to steer clear of desire in any form and not try to avoid what's beyond our control.",
                      "Don't let anything deter you: other people's misbehavior, your own misperceptions, What People Will Say, or the feelings of the body that covers you (let the affected part take care of those). And if, when it's time to depart, you shunt everything aside except your mind and the divinity within . . . if it isn't ceasing to live that you're afraid of but never beginning to live properly . . . then you’ll be worthy of the world that made you.",
                      "It never ceases to amaze me: we all love ourselves more than other people, but care more about their opinion than our own. If a god appeared to us-or a wise human being, even -and prohibited us from concealing our thoughts or imagining anything without immediately shouting it out, we wouldn't make it through a single day. That's how much we value other people's opinions—instead of our own.",
                      "Practice even what seems impossible. The left hand is useless at almost everything, for lack of practice. But it guides the reins better than the right. From practice.",
                      "The student as boxer, not fencer. The fencer's weapon is picked up and put down again. The boxer's is part of him. All he has to do is clench his fist.",
                      "At all times, look at the thing itself-the thing behind the appearance-and unpack it by analysis: 1. cause. 2. substance. 3. purpose. 4. and the length of time it exists.",
                      "It's all in how you perceive it. You're in control. You can dispense with misperception at will, like rounding the point. Serenity, total calm, safe anchorage.",
                      "Constantly run down the list of those who felt intense anger at something: the most famous, the most unfortunate, the most hated, the most whatever. And ask: Where is all that now? Smoke, dust, legend...or not even a legend. How trivial the things we want so passionately are.",
                      "The longest-lived and those who will die soonest lose the same thing. The present is all that they can give up, since that is all you have, and what you do not have, you cannot lose.",
                      "Your ability to control your thoughts-treat it with respect. It’s all that protects your mind from false perceptions-false to your nature, and that of all rational beings. It's what makes thoughtfulness possible, and affection for other people, and submission to the divine.",
                      "Forget everything else. Keep hold of this alone and remember it: Each of us lives only now, this brief instant. The rest has been lived already, or is impossible to see. The span we live is small-small as the corner of the earth in which we live it. Small as even the greatest renown, passed from mouth to mouth by short-lived stick figures, ignorant alike of themselves and those long dead.",
                      "Choose not to be harmed-and you won’t feel harmed. Don’t feel harmed-and you haven’t been.",
                      "Joy for humans lies in human actions. Human actions: kindness to others, contempt for the senses, the interrogation of appearances, observation of nature and of events in nature.",
                      "To erase false perceptions, tell yourself: I have it in me to keep my soul from evil, lust and all confusion. To see things as they are and treat them as they deserve. Don’t overlook this innate ability.",
                      "Apply them constantly, to everything that happens: Physics. Ethics. Logic.",
                      "Nature’s job: to shift things elsewhere, to transform them, to pick them up and move them here and there. Constant alteration. But not to worry: there’s nothing new here. Everything is familiar. Even the proportions are unchanged.",
                      "Alexander and Caesar and Pompey. Compared with Diogenes, Heraclitus, Socrates? The philosophers knew the what, the why, the how. Their minds were their own. The others? Nothing but anxiety and enslavement.",
                      "Everything is here for a purpose, from horses to vine shoots. What’s surprising about that? Even the sun will tell you, 'I have a purpose,' and the other gods as well. And why were you born? For pleasure? See if that answer will stand up to questioning.",
                      "Don’t let your imagination be crushed by life as a whole. Don’t try to picture everything bad that could possibly happen. Stick with the situation at hand, and ask, 'Why is this so unbearable? Why can’t I endure it?' You’ll be embarrassed to answer.",
                      "Are Pantheia or Pergamos still keeping watch at the tomb of Verus? Chabrias or Diotimus at the tomb of Hadrian? Of course they aren’t. Would the emperors know it if they were? And even if they knew, would it please them? And even if it did, would the mourners live forever? Were they, too, not fated to grow old and then die? And when that happened, what would the emperors do?",
                      "This is what you deserve. You could be good today. But instead you choose tomorrow.",
                      "It can ruin your life only if it ruins your character. Otherwise it cannot harm you-inside or out.",
                      "Not to live as if you had endless years ahead of you. Death overshadows you. While you're alive and able-be good.",
                      "Constant awareness that everything is born from change. The knowledge that there is nothing nature loves more than to alter what exists and make new things like it. All that exists is the seed of what will emerge from it. You think the only seeds are the ones that make plants or children? Go deeper.",
                      "Don't be irritated at people's smell or bad breath. What's the point? With that mouth, with those armpits, they’re going to produce that odor. 'But they have a brain! Can’t they figure it out? Can’t they recognize the problem?' So you have a brain as well. Good for you. Then use your logic to awaken his. Show him. Make him realize it. If he'll listen, then you'll have solved the problem. Without anger."]
}

fs = require 'fs'

module.exports = (robot) ->
  #initialize variable in brain if doesn't exist
  robot.brain.data.stoic_quotes ?= []
  robot.brain.data.aurelius_meditations ?= 0

  robot.respond /aurelius/i, (res) ->
    quote_number = robot.brain.data.aurelius_meditations
    #if we've reach the end of the book, start over.
    if quote_number >= 466
        quote_number = 0
    #read the text from the file
    text_file = __dirname+"/meditations/#{quote_number}.txt"
    fs.readFile text_file, "utf8", (err, contents) ->
      if err
        res.send "#{err} \n > If someone can prove me wrong and show me my mistake in any thought or action, I shall gladly change. I seek the truth, which never harmed anyone: the harm is to persist in one's own self-deception and ignorance.  \n - *Marcus Aurelius*"
      else
        res.send "> #{contents} \n\n - *Marcus Aurelius*"
    #increase the text file
    robot.brain.data.aurelius_meditations = quote_number+1

  robot.respond /stoicquotes/i, (res) ->
    stoic_quotes = robot.brain.data.stoic_quotes
    #if quotes list is empty, re-fill it
    if stoic_quotes.length == 0
      for k,v of quotes
        stoic_quotes.push [k,q] for q in v
    #pick a random quote by marcus aurelius
    picked_quote = res.random stoic_quotes
    res.send "> #{picked_quote[1]} \n - *#{picked_quote[0]}*"
    #delete that quote from the list to keep repeats from happening
    i = stoic_quotes.indexOf(picked_quote)
    if i != -1
      stoic_quotes.splice(i, 1)
    robot.brain.data.stoic_quotes = stoic_quotes

